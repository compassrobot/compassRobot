<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CompassRobot: compass.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="c1.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CompassRobot
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">compass.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Obsluga kompasu wysokiego poziomu.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="mag_8h_source.html">mag.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mag2_8h_source.html">mag2.h</a>&quot;</code><br />
</div>
<p><a href="compass_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac9cb024f2b7b2a5b78c12bdd37bdb29e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compass_8h.html#ac9cb024f2b7b2a5b78c12bdd37bdb29e">eCompass_init</a> (void)</td></tr>
<tr class="memdesc:ac9cb024f2b7b2a5b78c12bdd37bdb29e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicjalizacja kompasow.  <a href="#ac9cb024f2b7b2a5b78c12bdd37bdb29e">More...</a><br /></td></tr>
<tr class="separator:ac9cb024f2b7b2a5b78c12bdd37bdb29e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a729750c10fd52ad6c336cfb16a49d230"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compass_8h.html#a729750c10fd52ad6c336cfb16a49d230">eCompass</a> (void)</td></tr>
<tr class="memdesc:a729750c10fd52ad6c336cfb16a49d230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wypisanie kata obrotu kompasu.  <a href="#a729750c10fd52ad6c336cfb16a49d230">More...</a><br /></td></tr>
<tr class="separator:a729750c10fd52ad6c336cfb16a49d230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa222010424d4b29414e03754140be52a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compass_8h.html#aa222010424d4b29414e03754140be52a">startCalibration</a> (void)</td></tr>
<tr class="memdesc:aa222010424d4b29414e03754140be52a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funkcja rozpoczynajaca kalibracje.  <a href="#aa222010424d4b29414e03754140be52a">More...</a><br /></td></tr>
<tr class="separator:aa222010424d4b29414e03754140be52a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b0b9e34b16a62bb97e5e8efd3b1d0e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compass_8h.html#a5b0b9e34b16a62bb97e5e8efd3b1d0e7">stopCalibration</a> (void)</td></tr>
<tr class="memdesc:a5b0b9e34b16a62bb97e5e8efd3b1d0e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funkcja konczaca kalibracje.  <a href="#a5b0b9e34b16a62bb97e5e8efd3b1d0e7">More...</a><br /></td></tr>
<tr class="separator:a5b0b9e34b16a62bb97e5e8efd3b1d0e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9086528957c5fda10f27ed820decddee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compass_8h.html#a9086528957c5fda10f27ed820decddee">setAvaraging</a> (uint8_t num)</td></tr>
<tr class="memdesc:a9086528957c5fda10f27ed820decddee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funkcja okreslajaca usrednianie wynikow.  <a href="#a9086528957c5fda10f27ed820decddee">More...</a><br /></td></tr>
<tr class="separator:a9086528957c5fda10f27ed820decddee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e2aca47ba4e89278d8d6341d3f4360"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compass_8h.html#a02e2aca47ba4e89278d8d6341d3f4360">selectCompass</a> (int sc)</td></tr>
<tr class="memdesc:a02e2aca47ba4e89278d8d6341d3f4360"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funkcja wybor kompasu z ktorego korzystamy.  <a href="#a02e2aca47ba4e89278d8d6341d3f4360">More...</a><br /></td></tr>
<tr class="separator:a02e2aca47ba4e89278d8d6341d3f4360"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Obsluga kompasu wysokiego poziomu. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a729750c10fd52ad6c336cfb16a49d230"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int eCompass </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wypisanie kata obrotu kompasu. </p>
<dl class="section return"><dt>Returns</dt><dd>obrocenie kompasu </dd></dl>

</div>
</div>
<a class="anchor" id="ac9cb024f2b7b2a5b78c12bdd37bdb29e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eCompass_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inicjalizacja kompasow. </p>
<p>Aby inicjalizacja sie powiodla kompas na robicie musi byc podlaczony do plytki we wlasciwy sposob PORTE0 i 1 do SDA i SCL na robocie </p>

</div>
</div>
<a class="anchor" id="a02e2aca47ba4e89278d8d6341d3f4360"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void selectCompass </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funkcja wybor kompasu z ktorego korzystamy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sc</td><td>0 -&gt; dane z dwoch kompasow, 1 -&gt; kompass na plytce(niezalecane), 2[domyslnie]-&gt;kompass na robocie, 3-&gt;dwa kompasy, ale kat liczony jako srednia katow kompasow.</td></tr>
  </table>
  </dd>
</dl>
<p>Aby odczywywac dane z twoch kompasow nalezy pamietac, aby byly tak samo odwrocone - przednia strona plytki FRDM (z wyswietlaczem) obrocona do dolu. W przeciwnym razie pomiar z dwoch kompasow na raz nie ma sensu. Zalecane jest uzywanie funkci 2 - tylk kompas na robocie lub funkcji 0. </p>

</div>
</div>
<a class="anchor" id="a9086528957c5fda10f27ed820decddee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setAvaraging </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funkcja okreslajaca usrednianie wynikow. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>ilosc pomiarow aby dac jeden wynik, domyslnie to 1</td></tr>
  </table>
  </dd>
</dl>
<p>Najlepsze wyniki sa uzyskiwane bez usredniania - kiedy usrednianie jest rowne 1 </p>

</div>
</div>
<a class="anchor" id="aa222010424d4b29414e03754140be52a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void startCalibration </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funkcja rozpoczynajaca kalibracje. </p>
<p>Kalibrowane sa na raz dwa kompasy. Musza byc obe wlasciwie podlaczone aby kalibracja sie powiodla. PORTE0-&gt;SCL i PORTE1-&gt;SDA. Robot musi sie obrocic o conajmniej 360stopni nim zakonczymy kalibracje. </p>

</div>
</div>
<a class="anchor" id="a5b0b9e34b16a62bb97e5e8efd3b1d0e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stopCalibration </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funkcja konczaca kalibracje. </p>
<p>Od momentu wywolania tej funkcji kompasy sa poprawne skalibrowane. Dane offsetu sa zapisywane do kompasow wiec nie jest konieczna ich kalibracja przy kazdym wlaczeniu kompasu. Nie zapisywany jest natomiast wspolczynnik AR stosunek maxymalnych wychylen w osiach X do osi Y. Nie ma on duzego znaczenia na prace kompasu. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
